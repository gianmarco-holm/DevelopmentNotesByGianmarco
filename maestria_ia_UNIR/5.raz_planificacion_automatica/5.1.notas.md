# BUSQUEDA INFORMADA

[Ejercicios](https://colab.research.google.com/drive/1xTBxoyU7H6YIrvYixl4s8onAYSH2yntg?usp=sharing)

## 1. ğŸ¤– Tipos de heurÃ­sticas

La palabra ``heurÃ­stica`` viene del griego "heuriskein", que significa "encontrar" o "descubrir". En tÃ©rminos simples, una heurÃ­stica es una estrategia que usamos para resolver problemas basÃ¡ndonos en la experiencia o el conocimiento previo.

En **Inteligencia Artificial (IA)**, las heurÃ­sticas se usan cuando no tenemos una soluciÃ³n perfecta desde el inicio, pero queremos llegar a una respuesta "buena" o "suficientemente buena" de forma rÃ¡pida y eficiente.

---

### ğŸ§  Â¿QuÃ© es una heurÃ­stica?

Podemos definir la **heurÃ­stica** como un mÃ©todo para resolver problemas evaluando los progresos durante la bÃºsqueda de una soluciÃ³n.

En otras palabras, en lugar de analizar todas las posibilidades, usamos el conocimiento previo o aproximaciones para tomar decisiones mÃ¡s rÃ¡pidas. Esto es muy Ãºtil cuando:
- El problema es muy grande o complejo.
- No hay una soluciÃ³n Ã³ptima disponible desde el inicio.
- Se necesita una respuesta en poco tiempo (como en los videojuegos o sistemas en tiempo real).

---

### ğŸ› ï¸ Tipos de heurÃ­sticas

Podemos distinguir dos tipos principales:

### ğŸ”¹ HeurÃ­stica fuerte
- Es una estrategia **especÃ­fica para un problema**.
- Se basa en reglas creadas especialmente para ese problema.
- Puede ayudar a resolverlo, pero **no garantiza una soluciÃ³n ni que sea la mejor**.

Ejemplo: En un juego, usar una regla como â€œir por el camino mÃ¡s corto segÃºn el mapaâ€ puede ayudarte a ganar, pero no siempre funciona si hay obstÃ¡culos ocultos.

### ğŸ”¸ HeurÃ­stica dÃ©bil
- Es mÃ¡s **general y adaptable a diferentes problemas**.
- Combina un mÃ©todo riguroso (como bÃºsqueda sistemÃ¡tica) con algo de intuiciÃ³n (informaciÃ³n heurÃ­stica).
- Busca **mejorar el rendimiento promedio**, pero **no garantiza mejoras en todos los casos**.

---

### ğŸ§® Funciones heurÃ­sticas

Una **funciÃ³n heurÃ­stica** es una fÃ³rmula o mÃ©todo que nos ayuda a estimar quÃ© tan cerca estamos de la soluciÃ³n.

Imagina que estÃ¡s en una ciudad y quieres ir a otra. Una funciÃ³n heurÃ­stica podrÃ­a ser:
- La **distancia en lÃ­nea recta** entre ambas ciudades.
- El **tiempo estimado de viaje** segÃºn el trÃ¡fico.
- El **costo del peaje o gasolina**.

En IA, estas funciones se usan para:
- Priorizar caminos mÃ¡s prometedores.
- Ahorrar tiempo y recursos.

---

### ğŸŸ¢ HeurÃ­sticas admisibles (u optimistas)

Una heurÃ­stica es **admisible** si:
- **Nunca sobreestima** el costo real para llegar a la meta.
- Siempre da un valor **igual o menor al real**, por eso se llama "optimista".

Ejemplo:
- En el mundo de los bloques, contar cuÃ¡ntos bloques estÃ¡n fuera de lugar es una heurÃ­stica admisible.
- En un mapa, la distancia en lÃ­nea recta entre dos puntos tambiÃ©n lo es (aunque no siempre sea el camino real).

Esto garantiza que:
- Si usamos esta heurÃ­stica, encontraremos la mejor soluciÃ³n si existe.

---

### ğŸŸ¡ HeurÃ­sticas consistentes (o monÃ³tonas)

Una heurÃ­stica es **consistente** si cumple esta regla:

> La estimaciÃ³n del costo desde un nodo hasta la meta **no es mayor que el costo de ir a un vecino + la estimaciÃ³n desde ese vecino**.

Dicho de otro modo:
- A medida que avanzamos, la estimaciÃ³n **no baja**, solo se mantiene o sube.
- Esto evita que tengamos que volver atrÃ¡s constantemente.

ğŸ” **Importante**:  
- Toda heurÃ­stica consistente es **admisible**.
- Pero no toda heurÃ­stica admisible es consistente.

---

### ğŸ§ª Â¿CÃ³mo se diseÃ±an funciones heurÃ­sticas?

Una buena tÃ©cnica es usar **problemas relajados**:

### Â¿QuÃ© es un problema relajado?
- Es una versiÃ³n mÃ¡s **fÃ¡cil** del problema original.
- Se eliminan algunas restricciones para hacerlo mÃ¡s sencillo de resolver.

ğŸ’¡ Ejemplo:
- En el juego del **puzle-8** (el de mover fichas del 1 al 8 en un tablero de 3x3), podemos:
  - Ignorar restricciones de movimiento.
  - Contar solo las piezas fuera de lugar (simple).
  - Medir la distancia de cada ficha a su posiciÃ³n final (distancia de Manhattan).

Con estos mÃ©todos:
- Obtenemos **funciones heurÃ­sticas admisibles**.
- Nos ayudan a resolver el problema real de forma mÃ¡s inteligente.

---

### ğŸ“Š ComparaciÃ³n entre funciones heurÃ­sticas

Supongamos que tienes dos funciones heurÃ­sticas admisibles, `h1` y `h2`.

Decimos que `h2` es **mÃ¡s informada** que `h1` si:
```math
h2(n) â‰¥ h1(n) para todo nodo n
```

### âœ”ï¸ Â¿Por quÃ© es mejor que sea mÃ¡s informada?

* Porque nos da valores mÃ¡s cercanos al costo real.
* Permite expandir menos nodos en la bÃºsqueda.
* Hace el algoritmo mÃ¡s eficiente.

--- 

## 2. ğŸŒŸ BÃºsqueda A* (A estrella)

La bÃºsqueda **A\*** (se pronuncia â€œA estrellaâ€) es uno de los algoritmos mÃ¡s utilizados para encontrar el camino mÃ¡s corto entre dos puntos. Es muy popular en inteligencia artificial, videojuegos y navegaciÃ³n GPS, porque encuentra caminos Ã³ptimos de forma eficiente combinando:

- ğŸ” **Costo real** del recorrido (como la bÃºsqueda por costo uniforme).
- ğŸ§  **EstimaciÃ³n heurÃ­stica** de lo que falta (como la bÃºsqueda voraz).

---

### ğŸ§© Â¿CÃ³mo funciona la bÃºsqueda A*?

El algoritmo A\* evalÃºa los nodos usando una funciÃ³n de evaluaciÃ³n `f(n)` que combina:

~~~
f(n) = g(n) + h(n)
~~~

Donde:
- `g(n)` â†’ costo real desde el nodo inicial hasta el nodo actual `n`.
- `h(n)` â†’ estimaciÃ³n del costo desde el nodo actual `n` hasta el objetivo.

ğŸ’¡ Esto significa:
- `g(n)` es el camino recorrido.
- `h(n)` es el camino que **creemos** que falta.
- `f(n)` es el **costo total estimado** del camino pasando por `n`.

---

### ğŸ“‹ Â¿QuÃ© necesita A* para ser Ã³ptimo?

Para que A\* encuentre siempre el camino Ã³ptimo, la heurÃ­stica `h(n)` debe cumplir con lo siguiente:

#### âœ… HeurÃ­stica *admisible*
- Nunca sobreestima el costo real al objetivo.
- Siempre: `h(n) â‰¤ costo real restante`.

#### ğŸ” HeurÃ­stica *consistente* (o monÃ³tona)
Cumple esta propiedad para todos los nodos `n` y sus vecinos `n'`:

~~~
h(n) â‰¤ c(n, n') + h(n')
~~~

Donde `c(n, n')` es el costo de ir de `n` a `n'`.

ğŸ”’ Si la heurÃ­stica es consistente, tambiÃ©n es admisible.

---

## ğŸ“¦ Â¿QuÃ© estructuras de datos usa?

- **Open List (Abierta)**: contiene los nodos por explorar. Es una cola de prioridad ordenada por `f(n)`.
- **Closed List (Cerrada)**: contiene los nodos ya explorados, para no repetirlos.

---

## ğŸ›£ï¸ Ejemplo paso a paso

Imagina este grafo con costos y heurÃ­stica `h(n)`:

```
      A
     / \
   1/   \4
   B     C
   |     |
  3|     |1
   D-----E
     2
Objetivo: llegar de A a E

```

### HeurÃ­stica:
- `h(A) = 3`
- `h(B) = 2`
- `h(C) = 1`
- `h(D) = 2`
- `h(E) = 0`

### Iteraciones del algoritmo:

1. **Inicio en A**
   - `g(A) = 0`, `h(A) = 3`
   - `f(A) = 0 + 3 = 3`
   - Expande A â†’ B y C

2. **B**:
   - `g(B) = 1`, `h(B) = 2`, `f(B) = 3`

3. **C**:
   - `g(C) = 4`, `h(C) = 1`, `f(C) = 5`

ğŸ“Œ Se elige B (porque `f(B) = 3` es menor que `f(C) = 5`)

4. **Desde B â†’ D**:
   - `g(D) = 1 (de A a B) + 3 = 4`, `h(D) = 2`, `f(D) = 6`

5. Ahora se expande C (es el de menor `f` restante)

6. **Desde C â†’ E**:
   - `g(E) = 4 (de A a C) + 1 = 5`, `h(E) = 0`, `f(E) = 5`

ğŸ¯ Â¡Se llegÃ³ a E!  
ğŸ›¤ï¸ Ruta Ã³ptima: A â†’ C â†’ E  
ğŸ’° Costo total: **5**

---

### âœ… Ventajas de A*

- Encuentra caminos Ã³ptimos si `h(n)` es admisible.
- MÃ¡s rÃ¡pido que buscar todos los caminos posibles.
- Flexible: puedes usar diferentes heurÃ­sticas segÃºn el problema.

---

### âš ï¸ Desventajas de A*

- Puede consumir mucha memoria porque guarda muchos nodos abiertos.
- Si la heurÃ­stica no es buena, puede comportarse como una bÃºsqueda exhaustiva.

---

### ğŸ§  ConclusiÃ³n

A\* combina lo mejor de dos mundos:
- El conocimiento real (`g(n)`)
- Y la intuiciÃ³n (`h(n)`)

Es ideal para:
- ğŸš— NavegaciÃ³n GPS
- ğŸ•¹ï¸ Videojuegos
- ğŸ¤– Robots y agentes inteligentes

Con una heurÃ­stica adecuada, A\* encuentra rutas Ã³ptimas de forma muy eficiente. âœ¨

---

## 3. ğŸ“Œ Busqueda por Subobjetivos

Reducir la complejidad de bÃºsqueda dividiendo el problema general en subproblemas mÃ¡s pequeÃ±os, utilizando **heurÃ­sticas fuertes** para identificar **subobjetivos** (estados intermedios) mÃ¡s prometedores en el camino hacia la meta.

---

ğŸ§© **Tipos de aplicaciÃ³n heurÃ­stica:**

ğŸ”¹ AplicaciÃ³n *dÃ©bil*:
- Las heurÃ­sticas **guÃ­an** la bÃºsqueda.
- No se reduce el espacio de bÃºsqueda.
- **Se mantiene la completitud y optimalidad.**

ğŸ”¹ AplicaciÃ³n *fuerte*:
- Se **reduce el espacio** de bÃºsqueda (en anchura o profundidad).
- Puede sacrificar la completitud y optimalidad.
- Se busca obtener **soluciones buenas**, no necesariamente Ã³ptimas.
- Mejora sustancial del rendimiento.

---

ğŸ” **Funcionamiento del algoritmo de subobjetivos:**

1. Se definen **subobjetivos heurÃ­sticos**: estados intermedios probables en el camino Ã³ptimo.
2. Se realizan **bÃºsquedas individuales** entre:
   - Estado inicial â†’ Subobjetivo 1
   - Subobjetivo 1 â†’ Subobjetivo 2
   - â€¦
   - Ãšltimo subobjetivo â†’ Estado meta
3. Se puede usar cualquier algoritmo base: **amplitud, profundidad**, etc.

ğŸ“Œ Ejemplo:
- Puzzle-8: identificar configuraciones intermedias para reducir la profundidad del Ã¡rbol de bÃºsqueda.

---

âš™ï¸ **Complejidad:**

ğŸ”¸ *Tiempo* â†’ Depende de la cantidad de **nodos expandidos**.
ğŸ”¸ *Espacio* â†’ Depende de los **nodos abiertos**.

âœ… Si los subobjetivos estÃ¡n bien elegidos, se logra una **mejora significativa en complejidad**, ya que los caminos parciales son mÃ¡s cortos que el camino total.

---

ğŸ“Š **AnÃ¡lisis de la tÃ©cnica:**

âœ”ï¸ **Ventajas:**
- Reduce la complejidad, sobre todo en **problemas con planes largos**.
- Aumenta la eficiencia si los subobjetivos estÃ¡n bien colocados.

âŒ **Limitaciones:**
- No garantiza completitud ni optimalidad.
- Completitud solo si:
   - El mÃ©todo base es completo.
   - Los subobjetivos estÃ¡n en el camino correcto hacia la meta.
- Optimalidad solo si:
   - El mÃ©todo base es Ã³ptimo.
   - El orden de subobjetivos sigue el camino Ã³ptimo.

ğŸ¯ Si se usan **bÃºsquedas heurÃ­sticas** como mÃ©todo base:
- Se puede lograr una reducciÃ³n aÃºn mayor.
- Pero puede requerir **diferentes funciones heurÃ­sticas para cada subobjetivo**.

---

ğŸ“Œ **Resumen:**
La bÃºsqueda por subobjetivos es una tÃ©cnica poderosa para problemas complejos, especialmente cuando no se necesita la mejor soluciÃ³n posible, sino una **soluciÃ³n buena en poco tiempo**.


---

## 4. ğŸ” BÃºsqueda Online

En algunos entornos **no es posible** o **no es Ãºtil** encontrar un plan completo antes de actuar. Esto ocurre en:

- ğŸŒªï¸ Entornos **reactivos**, **no deterministas** o **dinÃ¡micos**, donde:
  - Los resultados de las acciones no siempre se conocen.
  - El entorno o el estado meta puede cambiar (por ejemplo, seguir un objeto en movimiento como las escaleras de Hogwarts).
  
- ğŸ”’ Entornos **parcialmente inaccesibles**, donde:
  - El agente no conoce completamente el entorno.
  - Va descubriendo el mundo a medida que actÃºa (por ejemplo, un laberinto parcialmente conocido).

En estos casos, los agentes **no pueden darse el lujo de planificar todo** porque:
- â±ï¸ Tienen muy poco tiempo para encontrar la soluciÃ³n.
- ğŸ¯ A veces basta con **una buena acciÃ³n**, no un plan completo.

ğŸ’¡ **Idea clave**: combinar la percepciÃ³n y la acciÃ³n con una bÃºsqueda limitada. Se actÃºa con la mejor opciÃ³n conocida **en el momento**, sin esperar a tener toda la informaciÃ³n.

---

### ğŸ†š Tabla comparativa entre bÃºsqueda online y offline

| CaracterÃ­stica     | BÃºsqueda Offline         | BÃºsqueda Online            |
| ------------------ | ------------------------ | -------------------------- |
| PlanificaciÃ³n      | Completa antes de actuar | Paso a paso con percepciÃ³n |
| Tiempo de decisiÃ³n | Mayor                    | Muy rÃ¡pido                 |
| Entorno            | Conocido                 | Desconocido/parcial        |
| Flexibilidad       | Baja                     | Alta                       |

---

### 4.1. ğŸ§— BÃºsqueda por Ascenso de Colinas (Hill Climbing)

La idea es **reducir la profundidad del Ã¡rbol de bÃºsqueda** y tomar la **acciÃ³n que parece mejor** en cada momento, repitiendo el ciclo percepciÃ³n â†’ acciÃ³n de forma continua.

ğŸ¯ Se basa en una **funciÃ³n heurÃ­stica** que estima quÃ© tan cerca estamos del objetivo.

#### ğŸ§  Funcionamiento

1. El agente evalÃºa su estado actual.
2. Calcula la mejor acciÃ³n segÃºn la heurÃ­stica.
3. Ejecuta la acciÃ³n.
4. Repite el proceso desde el nuevo estado.

~~~pseudo
1. Obtener estado actual mediante percepciÃ³n.
2. Evaluar acciones posibles con la heurÃ­stica.
3. Elegir la mejor acciÃ³n.
4. Ejecutar acciÃ³n en el entorno.
5. Repetir hasta alcanzar el objetivo.
~~~

ğŸ“‰ **Desventajas**:
- No asegura completitud ni optimalidad.
- Puede quedarse atascado en **Ã³ptimos locales**.
- Puede haber **ciclos** si no se controla la repeticiÃ³n de estados.

ğŸ” **Mejoras posibles**:
- Reinicios aleatorios.
- BÃºsqueda local iterada.
- BÃºsqueda tabÃº.
- BÃºsqueda reactiva (con memoria).

---

### 4.2. ğŸ”­ BÃºsqueda con Horizonte

La bÃºsqueda con horizonte limita la profundidad a una **profundidad k** y elige la **mejor acciÃ³n** en ese nivel, repitiendo el proceso en cada paso.

#### âš™ï¸ Funcionamiento

1. Se parte de un estado inicial.
2. Se expande el Ã¡rbol de bÃºsqueda hasta profundidad `k`.
3. Se selecciona la **hoja mÃ¡s prometedora** con una funciÃ³n heurÃ­stica.
4. Se ejecuta la acciÃ³n que lleva a esa hoja.
5. Se repite desde el nuevo estado.

~~~pseudo
1. Expandir hasta profundidad k.
2. Evaluar hojas con funciÃ³n heurÃ­stica.
3. Escoger mejor hoja.
4. Ejecutar la acciÃ³n que lleva a ella.
5. Repetir hasta alcanzar el objetivo.
~~~

ğŸ“Œ La bÃºsqueda por ascenso de colinas es un **caso especial** de bÃºsqueda con horizonte, donde `k = 1`.

ğŸ“‰ **Limitaciones**:
- No garantiza optimalidad ni completitud, salvo que la heurÃ­stica sea muy buena.

---

### 4.3. ğŸ§® OptimizaciÃ³n mediante BÃºsqueda Online

Este enfoque se aplica a **problemas de optimizaciÃ³n**, donde:
- Queremos **aproximarnos al mejor valor posible** de una funciÃ³n objetivo.
- No es necesario encontrar el valor exacto ni el mejor camino.

ğŸ¯ **Ejemplos**:
- Juegos lÃ³gicos como el problema de las **n-Reinas**.
- Configuraciones donde importa el **estado final**, no el camino.

#### 3 ğŸ§  CÃ³mo funciona

- Se utiliza una **funciÃ³n heurÃ­stica** para estimar la calidad de un estado.
- El agente toma acciones que lo acerquen a estados con **mejor evaluaciÃ³n**.

~~~pseudo
1. Evaluar estado actual con funciÃ³n objetivo.
2. Probar acciones posibles.
3. Escoger acciÃ³n que mejora la funciÃ³n objetivo.
4. Repetir hasta alcanzar un estado satisfactorio.
~~~

âš ï¸ Como en hill climbing, hay riesgo de quedar atrapado en **Ã³ptimos locales**, pero se pueden usar tÃ©cnicas avanzadas como:
- ğŸ” BÃºsqueda iterada.
- ğŸ“š BÃºsqueda con memoria.
- ğŸ§  BÃºsqueda tabÃº o reactiva.

---

