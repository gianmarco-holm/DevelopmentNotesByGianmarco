# Introducci√≥n a Azure Data Lake Storage Gen2

## Introducci√≥n ‚ö°

Muchas organizaciones han dedicado las dos √∫ltimas d√©cadas a crear almacenamientos de datos y soluciones de inteligencia empresarial (BI) basados en sistemas de bases de datos relacionales. Muchas soluciones de inteligencia empresarial (BI) han perdido la oportunidad de almacenar datos no estructurados debido al costo y la complejidad de estos tipos de datos y bases de datos.

Los lagos de datos se han convertido en una soluci√≥n com√∫n a este problema. Un lago de datos proporciona almacenamiento basado en archivos, normalmente en un sistema de archivos distribuido que admite una alta escalabilidad para grandes vol√∫menes de datos. Las organizaciones pueden almacenar archivos estructurados, semiestructurados y no estructurados en el lago de datos y, despu√©s, consumirlos desde ah√≠ en tecnolog√≠as de procesamiento de macrodatos, como Apache Spark.

Azure Data Lake Storage Gen2 proporciona una soluci√≥n basada en la nube para el almacenamiento en lago de datos en Microsoft Azure y sustenta muchas soluciones de an√°lisis a gran escala basadas en Azure.

## Descripci√≥n de Azure Data Lake Storage Gen2

El t√©rmino "data lake" define un repositorio de datos que se almacenan en su formato natural, normalmente como blobs o archivos. Azure Data Lake Storage es una soluci√≥n de lago de datos completa, escalable de forma masiva, segura y rentable integrada en Azure para la realizaci√≥n de an√°lisis de alto rendimiento.

Azure Data Lake Storage combina un sistema de archivos con una plataforma de almacenamiento para ayudar a identificar r√°pidamente conclusiones en los datos. Data Lake Storage se basa en la funcionalidad de Azure Blob Storage y lo optimiza espec√≠ficamente para cargas de trabajo de an√°lisis. Esta integraci√≥n facilita el rendimiento anal√≠tico, las capacidades de administraci√≥n del ciclo de vida de los datos y los niveles de Blob Storage y las capacidades de alta disponibilidad, seguridad y durabilidad de Azure Storage.

### Ventajas

Data Lake Storage est√° dise√±ado para afrontar esta variedad y este volumen de datos a escala de exabytes, a la vez que administra un procesamiento de cientos de gigabytes. Esto permite usar Data Lake Storage Gen2 como base para soluciones en tiempo real y de lotes.

- **Acceso compatible con Hadoop:**

Una ventaja de Data Lake Storage es que permite tratar los datos como si estuvieran almacenados en un Sistema de archivos distribuido de Hadoop (HDFS). Con esta caracter√≠stica, se pueden almacenar los datos en un solo lugar y acceder a ellos a trav√©s de tecnolog√≠as inform√°ticas que incluyen Azure Databricks, Azure HDInsight y Azure Synapse Analytics sin mover los datos entre entornos. El ingeniero de datos tambi√©n puede usar mecanismos de almacenamiento, como el formato parquet, que consigue una elevada compresi√≥n y funciona bien en varias plataformas usando un almacenamiento en columnas interno.

- **Seguridad:**
Data Lake Storage admite listas de control de acceso (ACL) y permisos POSIX (interfaz de sistema operativo portable) que no heredan los permisos del directorio primario. De hecho, puede establecer permisos en el nivel de directorio o de archivo para los datos almacenados en el lago de datos, lo que proporciona un sistema de almacenamiento mucho m√°s seguro. Esta seguridad se puede configurar usando tecnolog√≠as como Hive y Spark, o utilidades como el Explorador de Azure Storage, que se ejecuta en Windows, macOS y Linux. Todos los datos almacenados se cifran en reposo mediante claves administradas por el cliente o por Microsoft.

- **Rendimiento:**

Azure Data Lake Storage organiza los datos almacenados en una jerarqu√≠a de directorios y subdirectorios muy similar a un sistema de archivos para facilitar la navegaci√≥n. Como resultado, el procesamiento de datos requiere menos recursos inform√°ticos, lo que reduce el tiempo y el costo.

- **Redundancia de datos:**

Data Lake Storage aprovecha los modelos de replicaci√≥n de Azure Blob que proporcionan redundancia de datos en un solo centro de datos con almacenamiento con redundancia local (LRS), o bien en una regi√≥n secundaria mediante la opci√≥n de almacenamiento con redundancia geogr√°fica (GRS). Esta caracter√≠stica garantiza que los datos est√©n siempre disponibles y protegidos si se produce una cat√°strofe.

üí°Sugerencia

>Siempre que planee un lago de datos, un ingeniero de datos debe pensar detenidamente en la estructura, la gobernanza de datos y la seguridad. Esto debe incluir la consideraci√≥n de factores que pueden influir en la estructura y la organizaci√≥n del lago; por ejemplo:
>
> - Tipos de datos que se van a almacenar.
> - C√≥mo se transformar√°n los datos.
> - Qui√©n debe acceder a los datos.
> - Cu√°les son los patrones de acceso t√≠picos.
>
>Este enfoque ayudar√° a determinar c√≥mo planear la gobernanza del control de acceso en todo el lago. Los ingenieros de datos deben ser proactivos para asegurarse de que el lago no se convierta en el consabido pantano de datos que se vuelve inaccesible e in√∫til para los usuarios debido a la falta de medidas de gobernanza y calidad de los datos. Establecer una l√≠nea base y seguir los procedimientos recomendados para Azure Data Lake ayudar√° a garantizar una implementaci√≥n adecuada y s√≥lida que permita a la organizaci√≥n crecer y obtener informaci√≥n para alcanzar m√°s logros.

## Habilitaci√≥n de Azure Data Lake Storage Gen2 en Azure Storage

Azure Data Lake Storage Gen2 no es un servicio de Azure independiente, sino una funcionalidad configurable de Azure StorageV2 (de uso general V2).

Para habilitar Azure Data Lake Storage Gen2 en una cuenta de Azure Storage, puede seleccionar la opci√≥n Habilitar el espacio de nombres jer√°rquico en la p√°gina Opciones avanzadas cuando cree la cuenta de almacenamiento en Azure Portal.

Como alternativa, si ya tiene una cuenta de Azure Storage y desea habilitar la funcionalidad de Azure Data Lake Storage Gen2, puede usar el asistente Actualizaci√≥n de Data Lake Gen2 en la p√°gina del recurso de la cuenta de almacenamiento en Azure Portal.

## Comparaci√≥n entre Azure Data Lake Storage y Azure Blob Storage

En ``Azure Blob Storage`` se pueden almacenar grandes cantidades de datos no estructurados ("objeto") en un espacio de nombres plano dentro de un contenedor de blobs. Los nombres de blobs pueden incluir caracteres "/" para organizar los blobs en "carpetas" virtuales, pero, para facilitar su administraci√≥n, los blobs se almacenan como una jerarqu√≠a de nivel √∫nico en un espacio de nombres plano.

![Blob Storage](../images/blob-store.png)
>Puede acceder a estos datos usando HTTP o HTTPs.

``Azure Data Lake Storage Gen2`` se basa en Blob Storage y optimiza la E/S de datos de gran volumen usando un espacio de nombres jer√°rquico que organiza los datos de los blobs en directorios y almacena metadatos sobre cada directorio y los archivos que contiene. Esta estructura permite que operaciones como las eliminaciones y los cambios de nombre de directorios se realicen en una sola operaci√≥n at√≥mica. Por el contrario, los espacios de nombres planos requieren varias operaciones proporcionales al n√∫mero de objetos de la estructura. Los espacios de nombres jer√°rquicos mantienen los datos organizados, lo que resulta en un mejor rendimiento de almacenamiento y recuperaci√≥n para un caso de uso de an√°lisis y reduce el costo de an√°lisis.

![Data Lake Storage Gen 2](../images/data-lake.png)

 üí°Sugerencia

>Si quiere almacenar datos sin realizar un an√°lisis de ellos, establezca la opci√≥n Espacio de nombres jer√°rquico en Deshabilitado para configurar la cuenta de almacenamiento como una cuenta de Azure Blob Storage. Tambi√©n puede usar Blob Storage para archivar datos que se usan con poca frecuencia o para almacenar recursos de sitios web, como im√°genes y elementos multimedia.
>
>Si va a realizar un an√°lisis de los datos, configure la cuenta de almacenamiento como una cuenta de Azure Data Lake Storage Gen2. Para ello, establezca la opci√≥n Espacio de nombres jer√°rquico en Habilitado. Dado que Azure Data Lake Storage Gen2 est√° integrado en la plataforma Azure Storage, las aplicaciones pueden usar las API de Blob o las API del sistema de archivos de Azure Data Lake Storage Gen2 para acceder a los datos.

## Fases del procesamiento de Big Data

Los lagos de datos tienen un papel fundamental en una amplia gama de arquitecturas de macrodatos. Estas arquitecturas pueden conllevar la creaci√≥n de:

- Un almac√©n de datos empresarial.
- An√°lisis avanzados con macrodatos.
- Una soluci√≥n de an√°lisis en tiempo real.

Hay cuatro fases del procesamiento de soluciones de macrodatos que son comunes a todas las arquitecturas:

- ``Ingesta:`` la fase de ingesta identifica la tecnolog√≠a y los procesos que se usan para adquirir los datos de origen. Estos datos pueden proceder de archivos, registros y otros tipos de datos no estructurados que deben ponerse en el lago de datos. La tecnolog√≠a que se usa variar√° seg√∫n la frecuencia con la que se transfieran los datos. Por ejemplo, para el movimiento de datos por lotes, las canalizaciones de Azure Synapse Analytics o Azure Data Factory pueden ser la tecnolog√≠a m√°s adecuada. En el caso de la ingesta de datos en tiempo real, Apache Kafka para HDInsight o Stream Analytics pueden ser una opci√≥n apropiada.

- ``Almacenamiento:`` la fase de almacenamiento identifica d√≥nde se deben colocar los datos ingeridos. Azure Data Lake Storage Gen2 proporciona una soluci√≥n de almacenamiento segura y escalable que es compatible con las tecnolog√≠as de procesamiento de macrodatos m√°s utilizadas.

- ``Preparaci√≥n y entrenamiento:`` la fase de preparaci√≥n y entrenamiento identifica las tecnolog√≠as que se usan para llevar a cabo la preparaci√≥n de los datos y el entrenamiento y la puntuaci√≥n de modelos para soluciones de aprendizaje autom√°tico. Algunas tecnolog√≠as comunes que se usan en esta fase son Azure Synapse Analytics, Azure Databricks, Azure HDInsight y Azure Machine Learning.

- ``Modelado y entrega:`` por √∫ltimo, en la fase de modelado y entrega participan las tecnolog√≠as que van a presentar los datos a los usuarios. Estas tecnolog√≠as pueden incluir herramientas de visualizaci√≥n, como Microsoft Power BI, o almacenes de datos anal√≠ticos, como Azure Synapse Analytics. A menudo, se usa una combinaci√≥n de estas tecnolog√≠as en funci√≥n de los requisitos empresariales.

## Uso de Azure Data Lake Storage Gen2 en cargas de trabajo de an√°lisis de datos

Azure Data Lake Store Gen2 es una tecnolog√≠a de habilitaci√≥n para varios casos de uso de an√°lisis de datos. Veamos algunos tipos comunes de cargas de trabajo anal√≠ticas y c√≥mo funciona Azure Data Lake Storage Gen2 con otros servicios de Azure para sustentarlos.

### Procesamiento y an√°lisis de macrodatos

Los escenarios de macrodatos suelen hacer referencia a cargas de trabajo anal√≠ticas que implican vol√∫menes masivos de datos en una gran variedad de formatos que deben procesarse a una velocidad r√°pida, lo que se denomina "las tres uves". Azure Data Lake Storage Gen 2 proporciona un almac√©n de datos distribuido, escalable y seguro en el que los servicios de macrodatos, como Azure Synapse Analytics, Azure Databricks y Azure HDInsight, pueden aplicar marcos de procesamiento de datos, como Apache Spark, Hive y Hadoop. La naturaleza distribuida del almacenamiento y la capacidad de procesamiento permiten realizar tareas en paralelo, lo que proporciona un alto rendimiento y una elevada escalabilidad incluso cuando se procesan enormes cantidades de datos.

### Almacenamiento de datos

![Data Warehouse](image.png)

El almacenamiento de datos ha evolucionado en los √∫ltimos a√±os para integrar grandes vol√∫menes de datos almacenados como archivos en un lago de datos con tablas relacionales en un almacenamiento de datos. En un ejemplo t√≠pico de soluci√≥n de almacenamiento de datos, los datos se extraen de almacenes de datos operativos, como Azure SQL Database o Azure Cosmos DB, y se transforman en estructuras m√°s adecuadas para cargas de trabajo anal√≠ticas. A menudo, los datos se almacenan provisionalmente en un lago de datos para facilitar el procesamiento distribuido antes de cargarlos en un almacenamiento de datos relacional. En algunos casos, el almacenamiento de datos usa tablas externas para definir una capa de metadatos relacionales en los archivos del lago de datos y crear una arquitectura h√≠brida de "almac√©n de lago de datos" o "base de datos de lago". Despu√©s, el almacenamiento de datos puede admitir consultas anal√≠ticas para la elaboraci√≥n de informes y la visualizaci√≥n de los datos.

Hay varias maneras de implementar este tipo de arquitectura de almacenamiento de datos. En el diagrama se muestra una soluci√≥n en la que Azure Synapse Analytics hospeda canalizaciones para realizar procesos de extracci√≥n, transformaci√≥n y carga (ETL) con la tecnolog√≠a de Azure Data Factory. Estos procesos extraen datos de or√≠genes de datos operativos y los cargan en un lago de datos hospedado en un contenedor de Azure Data Lake Storage Gen2. A continuaci√≥n, los datos se procesan y cargan en un almacenamiento de datos relacional en un grupo de SQL dedicado de Azure Synapse Analytics, desde donde se pueden visualizar y usar para la elaboraci√≥n de informes con Microsoft Power BI.

### An√°lisis de datos en tiempo real

![Diagram of Azure Data Lake Storage Gen2 being used to store the results of real-time data processing in Azure Stream Analytics.](../images/real-time-analytics.png)

Cada vez m√°s, las empresas y otras organizaciones necesitan capturar flujos perpetuos de datos y analizarlos en tiempo real (o lo m√°s cerca posible). Estos flujos de datos pueden proceder de dispositivos conectados (a menudo denominados dispositivos de Internet de las cosas o IoT) o de los datos generados por los usuarios en plataformas de redes sociales u otras aplicaciones. A diferencia de las cargas de trabajo tradicionales de procesamiento por lotes, los datos de streaming requieren una soluci√≥n que pueda capturar y procesar un flujo ilimitado de eventos de datos a medida que se producen.

Los eventos de streaming a menudo se capturan en una cola para su procesamiento. Hay varias tecnolog√≠as que puede usar para realizar esta tarea; por ejemplo, Azure Event Hubs, como se muestra en la imagen. Desde aqu√≠, los datos se procesan, a menudo para agregar datos a trav√©s de ventanas temporales (por ejemplo, para contar el n√∫mero de mensajes de redes sociales con una etiqueta determinada cada cinco minutos, o para calcular el promedio de lecturas de un sensor conectado a Internet por minuto). Azure Stream Analytics permite crear trabajos que consultan y agregan datos de eventos a medida que llegan y escriben los resultados en un receptor de salida. Uno de estos receptores es Azure Data Lake Storage Gen2, desde donde se pueden analizar y visualizar los datos capturados en tiempo real.

### Ciencia de datos y aprendizaje autom√°tico

La ciencia de datos implica el an√°lisis estad√≠stico de grandes vol√∫menes de datos, a menudo mediante herramientas como Apache Spark y lenguajes de scripting, como Python. Azure Data Lake Storage Gen 2 proporciona un almac√©n de datos basado en la nube altamente escalable para los vol√∫menes de datos necesarios en las cargas de trabajo de ciencia de datos.

El aprendizaje autom√°tico es una sub√°rea de la ciencia de datos que se ocupa del entrenamiento de modelos predictivos. El entrenamiento de modelos requiere grandes cantidades de datos y la capacidad de procesar esos datos de forma eficaz. Azure Machine Learning es un servicio en la nube en el que los cient√≠ficos de datos pueden ejecutar c√≥digo de Python en cuadernos usando recursos de proceso distribuidos asignados din√°micamente. Los recursos de proceso procesan los datos de los contenedores de Azure Data Lake Storage Gen2 para entrenar modelos, que luego se pueden implementar como servicios web de producci√≥n para admitir cargas de trabajo de an√°lisis predictivo.

## Resumen

Azure Data Lake Storage Gen2 proporciona un servicio de almacenamiento en la nube que es disponible, seguro, duradero, escalable y redundante. Es una soluci√≥n de data lake completa.

Azure Data Lake Storage aporta m√°s eficacia para procesar cargas de trabajo de an√°lisis de macrodatos y puede proporcionar datos a muchas tecnolog√≠as inform√°ticas, como Azure Synapse Analytics, Azure HDInsight y Azure Databricks, sin necesidad de mover los datos. La creaci√≥n de un almac√©n de datos de Azure Data Lake Storage Gen2 puede ser una herramienta importante a la hora de compilar una soluci√≥n de an√°lisis de macrodatos.

üí°Sugerencia

>Para obtener m√°s informaci√≥n sobre Azure Data Lake Storage Gen2, consulte [Introducci√≥n a Azure Data Lake Storage Gen2](https://learn.microsoft.com/es-es/azure/storage/blobs/data-lake-storage-introduction) en la documentaci√≥n de Microsoft Azure.

## Fuente

[Microsft Learn](https://learn.microsoft.com/es-mx/training/modules/introduction-to-azure-data-lake-storage/)
